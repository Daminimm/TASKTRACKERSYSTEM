@model IEnumerable<TASKTRACKERSYSTEM.Models.TaskViewModel>

@{
    ViewBag.Title = "Index";
}

<h2>Task Tracker System</h2>
<p class="text-right">
    @Html.ActionLink("Create New", "Create")
</p>
@using (Html.BeginForm("Index", "EMPOLYEE", FormMethod.Get))
 {

    <p>
        Search TASK: @Html.TextBox("SearchData")
        <input type="submit" value="Find" />
    </p>
   
 } 

@if (ViewBag.Message != null)
 {

    <p class="alert alert-success" role="alert">
        @ViewBag.Message
    </p>
 }

<table class="table">
    <tr>

        <th>
            @*@Html.DisplayNameFor(model => model.TASKNAME)*@
            Task Name

        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.ASSIGNEDTO)*@
            Assigned To
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.DUETO)*@
            Due To
        </th>
        <th>
            @*@Html.DisplayNameFor(model => model.STATUS)*@
            Status
        </th>

        <th>Action</th>
    </tr>


    @if (Model != null && Model.Count() > 0)
    {

        foreach (var item in Model)
        {
            <tr>

                <td>
                    @Html.DisplayFor(modelItem => item.TASKNAME)

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.USER.Username)
                </td>
                <td>

                    @if (item.DUETO.HasValue)
                    {
                        @item.DUETO.Value.ToString("dd-MM-yyyy")
                    }
                    else
                    {
                        @Html.DisplayFor(modelItem => item.DUETO)
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.STATUS)
                </td>

                <td>
                    @Html.ActionLink("Edit", "Edit", new { ID = item.TASKID }) |

                    @Html.ActionLink("Delete", "Delete", new { ID = item.TASKID })
                </td>


            </tr>

        }
    }
    else
    {
        <td colspan="4" class="text-center">
            <b>No Data Available . Please Add Data By CLick On Create Button</b>
        </td>

    }

</table>


